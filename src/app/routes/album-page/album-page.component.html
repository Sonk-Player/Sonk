@if (album != undefined ) {
    <div class="min-h-screen text-white font-sans mt-10 md:mt-4 animate-fade animate-duration-300">
      <!-- Cabecera -->
      <div class="relative h-80">
        <div class="relative z-10 flex items-end h-full p-8">
          <div
            class="flex align-middle flex-col md:flex-row gap-4  justify-start  md:items-center  animate-fade animate-duration-150 ">
    
    
            @if(album !== undefined){
            <div>
              <img id="principal" class="m-0 md:m-4 mt-4 w-28 h-28 md:w-52 md:h-40 rounded-lg lg:w-52 lg:h-52"
                [src]="coverImg" alt="Éxitos España">
            </div>
            }
    
           
            <div class="md:ml-3  animate-fade animate-duration-150">
              <h1 class="text-3xl md:text-6xl font-bold line-clamp-1">{{album.title}}</h1>
              <p class="mt-4 text-sm md:text-md line-clamp-2 ">{{album.description}}</p>
              <p class="mt-2 text-sm md:text-md ">{{album.author}} · {{album.trackCount}} tracks · {{album.duration}} ·
                {{album.year}}</p>
            </div>
           
    
    
    
    
          </div>
        </div>
      </div>
    
      <!-- Controles -->
      <div class="p-8  animate-fade animate-duration-150">
        <div class="flex items-center space-x-4">
          @if(!isPlayingPlaylist()){
          <button (click)="play()" class="w-12 h-12 bg-pink-600 rounded-full flex items-center justify-center">
            <mat-icon class="text-white">play_arrow</mat-icon>
          </button>
          }@else {
          <button (click)="playerService.pauseSong()"
            class="w-12 h-12 bg-pink-600 rounded-full flex items-center justify-center">
            <mat-icon class="text-white">pause</mat-icon>
          </button>
          }
    
          <button class="w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center">
            <mat-icon class="text-white">add</mat-icon>
          </button>
          <button class="w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center">
            <mat-icon class="text-white">more_horiz</mat-icon>
          </button>
        </div>
      </div>
    
      <!-- Playlist songs -->
      <div class="px-8  lg:block hidden">
        <table class="w-full text-left ">
    
          <thead class="border-b border-gray-700">
    
            <tr>
              <th class="pb-4"></th>
              <th class="pb-4">#</th>
              <th class="pb-4"></th>
              <th class="pb-4">Título</th>
              <th class="pb-4">Artist</th>
              <th class="pb-4">Duración</th>
            </tr>
    
          </thead>
    
          <tbody class=" animate-fade animate-duration-300">
            @for (item of album.tracks; track $index) {
            <tr [ngClass]="determineisPLaying(item.videoId) ? 'bg-gray-800': '' "
              class="border-b border-gray-800 hover:bg-gray-800 cancionlista">
              <td class="py-3">
                @if (!determineisPLaying(item.videoId)) {
                <button class="w-8 h-8 rounded-full flex items-center justify-center botonplay"
                  (click)="play2(item.videoId)">
                  <mat-icon class="text-white">play_arrow</mat-icon>
                </button>
                }@else {
                <button class="w-8 h-8 rounded-full flex items-center justify-center botonplay"
                  (click)="this.playerService.pauseSong()">
                  <mat-icon class="text-white">pause</mat-icon>
                </button>
                }
    
              </td>
              <td class="py-3 idnumero">{{$index + 1}}</td>
              <td class="py-3"><img [id]="item.videoId+'-table'" class="w-14 h-12 rounded shadow-sm" (error)="setErrorCover(item.videoId+'-table')" src="{{coverImg}}" alt=""></td>
              <td class="py-3  text-nowrap overflow-x-hidden text-ellipsis max-w-60 mr-4">{{item.title}}</td>
              <td class="py-3 ">{{item.artists[0].name}}</td>
              <td class="py-3">{{item.duration}}</td>
            </tr>
            }
          </tbody>
    
        </table>
      </div>
      <div class="flex lg:hidden flex-col gap-4 p-8  animate-fade animate-duration-300">
        @for (item of album.tracks; track $index) {
        <app-song-bar [artist]="item.artists[0].name" [song]="item.videoId" [title]="item.title"
          [img]="coverImg"></app-song-bar>
        }
    
      </div>
    </div>
    
    }